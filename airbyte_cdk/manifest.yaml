version: 6.33.4

type: DeclarativeSource

check:
  type: CheckStream
  stream_names:
    - test

definitions:
  streams:
    test:
      type: DeclarativeStream
      name: test
      retriever:
        type: SimpleRetriever
        decoder:
          type: CompositeRawDecoder
          parser:
            type: CsvParser
            delimiter: ","
            encoding: utf-8
        requester:
          $ref: "#/definitions/base_requester"
          path: /csv_test.csv
          http_method: GET
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path: []
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/test"
  base_requester:
    type: HttpRequester
    url_base: https://airbyte-csv-test.s3.us-east-2.amazonaws.com

streams:
  - $ref: "#/definitions/streams/test"

spec:
  type: Spec
  connection_specification:
    type: object
    $schema: http://json-schema.org/draft-07/schema#
    required: []
    properties: {}
    additionalProperties: true

schemas:
  test:
    type: object
    $schema: http://json-schema.org/draft-07/schema#
    additionalProperties: true
    properties: {}
